<app-admin-dashboard></app-admin-dashboard>
<br><br>

<div class="py-5 " style="padding-left: 9rem;padding-right: 9rem;">
  <div class="row col-md-12 ">
    <h1 style="margin-left: 30rem;">EDIT EMPLOYEE INFORMATION</h1>
  </div><br><br>
  <div class="row bg-info col-md-12">
    <div class="form-row col-md-12">
      <div class="col-md-6 bg-dark">
        <label>Employee Number</label>
        <input *ngIf="editempdtails" type="text" name="EmployeeNumber" maxlength="15"  (keypress)="numberValid($event)" class="form-control" placeholder="Employee Number"
          [(ngModel)]="editempdtails.EmployeeNumber">
      </div>
      <div class="col-md-6">
        <div class="form-group ">
          <label>User Role Type</label><br>
          <!-- <input *ngIf="editempdtails" type="text" name="UserRoleName" readonly class="form-control" [(ngModel)]="editempdtails.UserRoleName"> -->
          <select *ngIf="useroletyp" name="organization" style="width: 77%; background-color: #d4f4ff;" class="form-control" [(ngModel)]="editempdtails.UserRoleTypeKey">
            <option value="" placeholder>--Select--</option>
            <option *ngFor="let u of useroletyp" [value]="u.UserRoleTypeKey">
              {{u.UserRoleName}}
            </option>
          </select>
      </div>
        </div>
      </div>
    </div>
    <div class="form-row col-md-12">
      <div class="col-md-6 bg-dark">
        <label>Manager</label>
        <select *ngIf='managerList' name="userroletype" style="width: 77%; background-color: #d4f4ff;" class="form-control" [(ngModel)]="editempdtails.ManagerKey">
          <option value="" placeholder>--Select--</option>
          <option *ngFor="let u of managerList" [value]="u.ManagerKey">
            {{u.ManagerName}}
          </option>
        </select>
      </div>
    </div>
    <div class="col-md-6">
      <div class="form-group">
        <label>First Name*</label>
        <input *ngIf="editempdtails" type="text"  maxlength="19" (keypress)="charValidation($event)" name="FirstName" class="form-control" placeholder="First Name"
          [(ngModel)]="editempdtails.FirstName"> </div>
      <div class="form-group">
        <label>Last Name*</label>
        <input *ngIf="editempdtails" type="text" maxlength="19" (keypress)="charValidation($event)" name="LastName" class="form-control" placeholder="Last Name"
          [(ngModel)]="editempdtails.LastName"> </div>
    </div>
    <div class="col-md-6">
      <div class="form-group">
        <label>Middle Name</label>
        <input *ngIf="editempdtails" type="text" maxlength="19" (keypress)="charValidation($event)" name="MiddleName" class="form-control" placeholder="Middle Name"
          [(ngModel)]="editempdtails.MiddleName"> </div>
      <div class="form-group">
        <label>Birth Date</label>
        <igx-datePicker item-width="25%" [(ngModel)]="BirthDate"></igx-datePicker>
      </div>

    </div>
    <div class="col-md-12" style="margin-bottom: 2rem;">
      <div class="col-md-6">
        <div class="form-group" style="margin-left:-1rem;">
          <label>Gender*</label><br>
          <select *ngIf="editempdtails" name="Gender" [(ngModel)]="editempdtails.Gender" style="width: 80%; background-color: #d4f4ff;">
            <option value="">--Select--</option>
            <option value="Male">Male</option>
              <option value="Female">Female</option>
              <option value="Other">Other</option>
          </select>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="form-group">
        <label>Address Line 1</label>
        <textarea *ngIf="editempdtails" class="form-control rounded-0"  maxlength="85" [(ngModel)]="editempdtails.AddressLine1" id="exampleFormControlTextarea1"
          rows="5"></textarea>
      </div>
      <div class="form-group">
        <label>City</label>
        <input *ngIf="editempdtails" type="text" name="City" maxlength="19" (keypress)="charValidation($event)" [(ngModel)]="editempdtails.City" class="form-control"
          placeholder="City"> </div>
    </div>
    <div class="col-md-6">
      <div class="form-group">
        <label>Address Line 2</label>
        <textarea *ngIf="editempdtails" class="form-control rounded-0"  maxlength="85" [(ngModel)]="editempdtails.AddressLine2" id="exampleFormControlTextarea1"
          rows="5"></textarea>
      </div>
      <div class="form-group">
        <label>State</label>
        <input *ngIf="editempdtails" type="text" name="State" maxlength="19" [(ngModel)]="editempdtails.State" class="form-control"
          placeholder="State"> </div>
    </div>

    <div class="col-md-6">
      <div class="form-group">
        <label>Country</label>
        <input *ngIf="editempdtails" type="text" name="Country" maxlength="19" (keypress)="charValidation($event)" [(ngModel)]="editempdtails.Country" class="form-control"
          placeholder="Country"> </div>
      <div class="form-group">
        <label>Primary Phone Number*</label>
        <input *ngIf="editempdtails" type="text" name="PrimaryPhone" minlength=10 maxlength="15" (keypress)="numberValid($event)" [(ngModel)]="editempdtails.PrimaryPhone" class="form-control"
          placeholder="Primary Phone Number"> </div>
    </div>
    <div class="col-md-6">
      <div class="form-group">
        <label>Zip Code</label>
        <input *ngIf="editempdtails" type="text" name="ZipCode" maxlength="10" (keypress)="numberValid($event)" [(ngModel)]="editempdtails.ZipCode" class="form-control"
          placeholder="Zip Code"> </div>
      <div class="form-group">
        <label>Alternative Phone Number</label>
        <input *ngIf="editempdtails" type="text" name="AlternatePhone"  minlength=10 maxlength="15" (keypress)="numberValid($event)" [(ngModel)]="editempdtails.AlternatePhone" class="form-control"
          placeholder="Alternative Phone Number"> </div>

    </div>
    <div class="col-md-6">
      <div class="form-group">
        <label>Email</label><br>
        <input *ngIf="editempdtails" type="text" name="EmailID" maxlength="40" [(ngModel)]="editempdtails.EmailID" class="form-control"
          placeholder="Email" email #prmEmail="ngModel">
          <div *ngIf="prmEmail.errors?.email" style="color: red;"> 
            Email not valid.
      </div> 
        </div>
    </div>
    <div class="col-md-6">
      <label>Employee Status*</label><br>
      <select *ngIf="editempdtails" name="empstatus" style="width: 80%; background-color: #d4f4ff;" [(ngModel)]="editempdtails.EmployeeStatusKey">
        <option value="" placeholder>--Select--</option>
        <option *ngFor="let s of employeestatus" [value]="s.EmployeeStatusKey">
          {{s.EmployeeStatus}}
        </option>
      </select>
    </div>
    <div class="col-md-6">
      <div class="form-group">
        <label>Hire Date*</label>
        <igx-datePicker *ngIf="editempdtails" item-width="25%" [(ngModel)]="HireDate" ></igx-datePicker>
      </div>
      <div class="form-check form-check-inline">
        <label class="form-check-label" for="materialInline1">Is SuperVisor</label>
        <input *ngIf="editempdtails" type="checkbox" [(ngModel)]="editempdtails.IsSupervisor" data-md-icheck (change)="toggleVisibility($event)" />
      </div>
    </div>
    <div class="col-md-6">
      <div class="form-group">
        <label>Job Title*</label><br>
        <select *ngIf="editempdtails" name="jobtitle" style="width: 80%; background-color: #d4f4ff;" [(ngModel)]="editempdtails.JobTitleKey">
          <option value="" placeholder>--Select--</option>
          <option *ngFor="let j of jobtitle" [value]="j.JobTitleKey">
            {{j.JobTitleText}}
          </option>
        </select>
      </div>

    </div>
    <div class="col-md-6">
      <div class="form-group">
        <label>Department*</label><br>
        <select *ngIf="editempdtails" name="department" style="width: 80%; background-color: #d4f4ff;" [(ngModel)]="editempdtails.DepartmentKey">
          <option value="">--Select--</option>
          <option *ngFor="let d of department" [value]="d.DepartmentKey">
            {{d.DepartmentName}}
          </option>
        </select>
      </div>
    </div>
  </div>

  <br><br>

  <br><br>
  <div class="row col-md-12">
    <div class="col-md-6"></div>
    <button type="button" style="text-align:center" class="btn btn-primary" (click)="editEmployee(editempdtails.EmployeeNumber,editempdtails.UserRoleTypeKey,editempdtails.FirstName,editempdtails.LastName,editempdtails.MiddleName,BirthDate,editempdtails.Gender,editempdtails.AddressLine1,editempdtails.City,editempdtails.AddressLine2,editempdtails.State,editempdtails.Country,editempdtails.PrimaryPhone,editempdtails.ZipCode,editempdtails.AlternatePhone,editempdtails.EmailID,editempdtails.EmployeeStatusKey,HireDate,editempdtails.IsSupervisor,editempdtails.SupervisorKey,editempdtails.JobTitleKey,editempdtails.DepartmentKey)">Update</button>
    <a button type="button" mdbBtn color="primary" class="relative waves-light" (click)="basicModal.show();deleteEmpPass(empk$); "
      mdbWavesEffect>Delete</a>
    <a routerLink="/viewEmployeeAdmin" class="btn btn-primary" style="color:white !important" routerLinkActive="active"><b>Go
        Back
      </b>
    </a>
    <div mdbModal #basicModal="mdbModal" class="modal fade" role="dialog" aria-labelledby="myBasicModalLabel"
      aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close pull-right" aria-label="Close" (click)="basicModal.hide()">
              <span aria-hidden="true">Ã—</span>
            </button>
            <h4 class="modal-title w-100" id="myModalLabel"></h4>
          </div>
          <div class="modal-body">
            Are you sure you want to delete this?
          </div>
          <div class="modal-footer">
            <button type="button" mdbBtn color="secondary" class="waves-light" aria-label="Close" (click)="basicModal.hide(); deleteEmployee()"
              mdbWavesEffect>Yes</button>
            <button type="button" mdbBtn color="primary" class="relative waves-light" (click)="basicModal.hide()"
              mdbWavesEffect>No</button>
          </div>
        </div>
      </div>
    </div>
  </div>